<!--
  ~ Copyright (C) 2018 Tobias Wink <sainth@sainth.de>
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU General Public License as published by
  ~ the Free Software Foundation, either version 3 of the License, or
  ~ (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU General Public License for more details.
  ~
  ~ You should have received a copy of the GNU General Public License
  ~ along with this program.  If not, see <https://www.gnu.org/licenses/>.
  -->

<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Dein Rezeptemanager</title>
</head>
<body>
<h1>Neues Rezept</h1>
<a href="/">Zur√ºck</a>
<div class="container">
  <form action="#" th:action="@{/recipe/create}" th:object="${recipe}" method="post">
    <div class="form-group">
      <h2>Allgemeines</h2>
      <input th:if="${recipe.recipeId != null}" type="hidden" th:field="*{recipeId}"/>
      <label th:for="name">Name:</label><input type="text" th:field="*{name}"/><br>
      <label th:for="description">Beschreibung:</label><textarea th:field="*{description}"></textarea><br>
      <label th:for="portions">Anzahl Portionen:</label><input type="text" th:field="*{portions}"/>
      <h2>Zutaten</h2>
      <div th:each="ingredient, itemStat : ${recipe.ingredients}">
        <label th:for="foodName">Zutat:</label><input type="text"
                                                      th:field="*{ingredients[__${itemStat.index}__].foodName}"/>
        <label th:for="amount">Menge:</label><input type="text"
                                                    th:field="*{ingredients[__${itemStat.index}__].amount}"/>
        <select th:field="*{ingredients[__${itemStat.index}__].unit}" size="1">
          <option th:each="unit : ${units}" th:value="${unit}" th:text="${unit.name}"></option>
        </select>
      </div>

      <h2>Anweisungen</h2>
      <ul>
        <li th:each="direction, itemStat : ${recipe.directions}">
          <label>Anweisung:</label><textarea
            th:field="*{directions[__${itemStat.index}__].description}"></textarea><br>
        </li>
      </ul>
    </div>
    <button type="submit" class="btn btn-primary">Speichern</button>
  </form>
</div>
</body>
</html>
